{"version":3,"sources":["components/Header.js","store/types.js","constants.js","utils.js","store/reducers.js","store/actions.js","store/operations.js","store/selectors.js","store/index.js","components/Fallback.js","App.js","index.js"],"names":["Header","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","handleClick","event","setState","anchorEl","currentTarget","handleClose","currency","onBaseChange","handleToHome","history","push","handleToCalculator","state","_this2","_this$props","classes","location","base","isCalculatorURL","pathname","indexOf","react_default","a","createElement","index_es","className","root","position","color","container","justify","alignItems","spacing","item","xs","sm","disabled","fullWidth","variant","aria-owns","undefined","aria-haspopup","onClick","id","open","Boolean","onClose","menuItems","_this3","currencies","map","key","PureComponent","withRouter","withStyles","padding","types","RATES_URL","concat","format","number","parseFloat","toFixed","loadLocalState","serializedState","localStorage","getItem","JSON","parse","error","saveLocalState","stringify","setItem","Error","INITIAL_STATE","initialRates","rates","favorites","assign","appReducer","arguments","length","action","type","Type","objectSpread","payload","defineProperty","newBase","newRates","ratio","getOwnPropertyNames","forEach","newFavorites","slice","favoriteIndex","currencyName","splice","actions","operations","_ref","asyncToGenerator","regenerator_default","mark","_callee","dispatch","response","wrap","_context","prev","next","fetch","sent","json","t0","stop","_x","apply","selectors","toConsumableArray","keys","result","isInFavorites","isBase","theme","progress","margin","unit","Home","lazy","Promise","all","__webpack_require__","e","then","bind","Calculator","App","_Component","inherits","createClass","value","getRates","setBase","favoriteRates","notFavoriteRates","toggleFavorite","homeProps","onToggleFavorite","calculatorProps","BrowserRouter","basename","process","react","fallback","components_Fallback","components_Header","Route","path","exact","render","Component","connect","middleware","applyMiddleware","thunk","store","createStore","composeWithDevTools","subscribe","getState","ReactDOM","es","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.b4e573c0.chunk.js","sourcesContent":["import React, {PureComponent} from \"react\";\nimport {AppBar, Button, Grid, Menu, MenuItem, withStyles} from \"@material-ui/core\";\nimport PropTypes from \"prop-types\";\nimport {withRouter} from \"react-router-dom\";\n\nconst styles = () => ({\n  root: {\n    padding: 8,\n  },\n});\n\nclass Header extends PureComponent {\n  constructor(props) {\n    super(props);\n    this.state = {\n      anchorEl: null,\n    }\n  }\n\n  get menuItems() {\n    return this.props.currencies\n      .map((currency) =>\n        <MenuItem\n          key={currency}\n          onClick={() => this.handleClose(currency)}\n        >\n          {currency}\n        </MenuItem>\n      )\n  }\n\n  handleClick = (event) => {\n    this.setState({anchorEl: event.currentTarget});\n  };\n\n  handleClose = (currency) => {\n    this.setState({anchorEl: null});\n    this.props.onBaseChange(currency);\n  };\n\n  handleToHome = () => {\n    this.props.history.push(`/`);\n  };\n\n  handleToCalculator = () => {\n    this.props.history.push(`calculator`);\n  };\n\n  render() {\n    const {classes, location, base} = this.props;\n    const {anchorEl} = this.state;\n    const isCalculatorURL = location.pathname.indexOf(`calculator`) !== -1;\n    return (\n      <AppBar className={classes.root} position=\"static\" color=\"default\">\n        <Grid container justify=\"flex-end\" alignItems=\"center\" spacing={16}>\n          <Grid item xs={12} sm=\"auto\">\n            <Button\n              disabled={isCalculatorURL}\n              fullWidth\n              color=\"secondary\"\n              variant=\"outlined\"\n              aria-owns={anchorEl ? `simple-menu` : undefined}\n              aria-haspopup=\"true\"\n              onClick={this.handleClick}\n            >\n              Base Currency: {base}\n            </Button>\n            <Menu\n              id=\"simple-menu\"\n              anchorEl={anchorEl}\n              open={Boolean(anchorEl)}\n              onClose={() => this.handleClose(base)}\n            >\n              {this.menuItems}\n            </Menu>\n          </Grid>\n          <Grid item xs={12} sm=\"auto\">\n            <Button\n              fullWidth\n              color={isCalculatorURL ? `default` : `primary`}\n              variant={isCalculatorURL ? `outlined` : `contained`}\n              onClick={this.handleToHome}\n            >\n              Exchange rates\n            </Button>\n          </Grid>\n          <Grid item xs={12} sm=\"auto\">\n            <Button\n              fullWidth\n              color={isCalculatorURL ? `primary` : `default`}\n              variant={isCalculatorURL ? `contained` : `outlined`}\n              onClick={this.handleToCalculator}\n            >\n              Exchange calculator\n            </Button>\n          </Grid>\n        </Grid>\n      </AppBar>\n    )\n  }\n}\n\nHeader.propTypes = {\n  classes: PropTypes.object.isRequired,\n  location: PropTypes.object.isRequired,\n  history: PropTypes.object.isRequired,\n  base: PropTypes.string.isRequired,\n  currencies: PropTypes.array,\n  onBaseChange: PropTypes.func\n};\n\nexport default withRouter(withStyles(styles)(Header));\n","const RATES_LOAD = `RATES_LOAD`;\nconst FAILURE = `FAILURE`;\nconst BASE_CURRENCY_SET = `BASE_CURRENCY_SET`;\nconst FAVORITE_TOGGLE = `FAVORITE_TOGGLE`;\n\nexport default {\n  RATES_LOAD,\n  FAILURE,\n  BASE_CURRENCY_SET,\n  FAVORITE_TOGGLE\n}\n","export const BASE_CURRENCY = `GBP`;\nexport const RATES_URL = `https://api.ratesapi.io/api/latest?base=${BASE_CURRENCY}`;\nexport const LOCAL_SETTINGS = `settings`;\n","import {LOCAL_SETTINGS} from \"./constants\";\n\nexport const format = (number) => parseFloat(number.toFixed(4), 10);\n\nexport const loadLocalState = () => {\n  try {\n    const serializedState = localStorage.getItem(LOCAL_SETTINGS);\n    if (serializedState === null) {\n      return undefined;\n    }\n    return JSON.parse(serializedState);\n  } catch (error) {\n    return undefined;\n  }\n};\n\nexport const saveLocalState = (state) => {\n  try {\n    const serializedState = JSON.stringify(state);\n    localStorage.setItem(LOCAL_SETTINGS, serializedState);\n  } catch (error) {\n    throw new Error(error);\n  }\n};\n\nexport default {\n  format,\n  loadLocalState,\n  saveLocalState\n};\n","import Type from \"./types\";\nimport {BASE_CURRENCY} from \"../constants\";\nimport {format, loadLocalState} from \"../utils\";\n\nconst INITIAL_STATE = {\n  base: BASE_CURRENCY,\n  initialRates: {},\n  rates: {},\n  favorites: [],\n  error: null\n};\n\nObject.assign(INITIAL_STATE, loadLocalState());\n\nconst appReducer = (state = INITIAL_STATE, action) => {\n  switch (action.type) {\n\n    case Type.RATES_LOAD:\n      return {\n        ...state,\n        base: BASE_CURRENCY,\n        rates: action.payload.rates,\n        initialRates: {[BASE_CURRENCY]: 1, ...action.payload.rates},\n      };\n\n    case Type.BASE_CURRENCY_SET: {\n      if (action.payload.base === state.base) {\n        return state\n      }\n      const newBase = action.payload.base;\n      const newRates = Object.assign({}, state.initialRates);\n      const ratio = 1 / state.initialRates[newBase];\n      delete newRates[newBase];\n      Object.getOwnPropertyNames(newRates)\n        .forEach((key) => newRates[key] = format(state.initialRates[key] * ratio));\n      newRates[state.base] = format(state.initialRates[state.base] * ratio);\n      return {\n        ...state,\n        rates: newRates,\n        base: newBase\n      };\n    }\n\n    case Type.FAVORITE_TOGGLE: {\n      const newFavorites = state.favorites.slice();\n      const favoriteIndex = newFavorites.indexOf(action.payload.currencyName);\n      if (favoriteIndex !== -1) {\n        newFavorites.splice(favoriteIndex, 1);\n      } else {\n        newFavorites.push(action.payload.currencyName);\n      }\n      return {\n        ...state,\n        favorites: newFavorites\n      };\n    }\n\n    case Type.FAILURE:\n      return {\n        ...state,\n        error: action.payload.error\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport default appReducer;\n","import Type from \"./types\";\n\nconst loadRates = (rates) => ({\n  type: Type.RATES_LOAD,\n  payload: {\n    rates\n  }\n});\n\nconst setError = (error) => ({\n  type: Type.FAILURE,\n  payload: {\n    error\n  }\n});\n\nconst setBaseCurrency = (base) => ({\n  type: Type.BASE_CURRENCY_SET,\n  payload: {\n    base\n  }\n});\n\nconst toggleFavorite = (currencyName) => ({\n  type: Type.FAVORITE_TOGGLE,\n  payload: {\n    currencyName\n  }\n});\n\nexport default {\n  loadRates,\n  setError,\n  setBaseCurrency,\n  toggleFavorite,\n};\n","import actions from \"./actions\";\nimport {RATES_URL} from \"../constants\";\n\nconst getRates = () => {\n  return async (dispatch) => {\n    try {\n      const response = await fetch(RATES_URL);\n      const rates = await response.json();\n      dispatch(actions.loadRates(rates.rates));\n    } catch (error) {\n      dispatch(actions.setError(error));\n    }\n  }\n};\n\nconst setBase = (base) => {\n  return (dispatch) => {\n    dispatch(actions.setBaseCurrency(base));\n  }\n};\n\nconst toggleFavorite = (currencyName) => {\n  return (dispatch) => {\n    dispatch(actions.toggleFavorite(currencyName));\n  }\n};\n\nconst resetRatesError = () => {\n  return (dispatch) => {\n    dispatch(actions.setError(null));\n  }\n};\n\n\nexport default {\n  getRates,\n  setBase,\n  toggleFavorite,\n  resetRatesError\n};\n","const getCurrencies = (state) => [state.base, ...Object.keys(state.rates)];\n\nconst getFavoriteRates = (state) => {\n  const result = {};\n  state.favorites\n    .forEach((currencyName) => {\n        const isBase = state.base === currencyName;\n        if (!isBase) {\n          result[currencyName] = state.rates[currencyName]\n        }\n      }\n    );\n  return result;\n};\n\nconst getNotFavoriteRates = (state) => {\n  const result = {};\n  Object.keys(state.rates)\n    .forEach((currencyName) => {\n        const isInFavorites = state.favorites.indexOf(currencyName) !== -1;\n        const isBase = state.base === currencyName;\n        if (!isInFavorites && !isBase)\n          result[currencyName] = state.rates[currencyName]\n      }\n    );\n  return result;\n};\n\nexport default {\n  getCurrencies,\n  getFavoriteRates,\n  getNotFavoriteRates\n}\n","import appReducer from './reducers';\nexport {default as operations} from './operations';\nexport {default as Type} from './types';\nexport {default as selectors} from './selectors';\nexport default appReducer;\n","import React from \"react\";\nimport {CircularProgress, Grid, withStyles} from \"@material-ui/core\";\nimport PropTypes from \"prop-types\";\n\nconst styles = theme => ({\n  progress: {\n    margin: theme.spacing.unit * 2,\n  },\n});\n\nconst Fallback = ({classes}) => {\n  return <Grid container justify=\"center\"><CircularProgress className={classes.progress} color=\"primary\"/></Grid>\n};\n\nFallback.propTypes = {\n  classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(Fallback);\n","import React, {Component, lazy, Suspense} from 'react';\nimport {CssBaseline} from \"@material-ui/core\";\nimport Header from \"./components/Header\";\nimport {BrowserRouter as Router, Route} from \"react-router-dom\";\nimport PropTypes from \"prop-types\";\nimport {connect} from \"react-redux\";\nimport {operations, selectors} from \"./store\";\nimport Fallback from \"./components/Fallback\";\n\nconst Home = lazy(() => import(`./pages/Home`));\nconst Calculator = lazy(() => import(`./pages/Calculator`));\n\nconst mapStateToProps = (state) => {\n  return {\n    base: state.base,\n    favoriteRates: selectors.getFavoriteRates(state),\n    notFavoriteRates: selectors.getNotFavoriteRates(state),\n    currencies: selectors.getCurrencies(state),\n    initialRates: state.initialRates\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    getRates: () => dispatch(operations.getRates()),\n    setBase: (base) => dispatch(operations.setBase(base)),\n    toggleFavorite: (currencyName) => dispatch(operations.toggleFavorite(currencyName))\n  }\n};\n\nexport class App extends Component {\n  componentDidMount() {\n    this.props.getRates();\n  }\n\n  render() {\n    const {\n      base,\n      currencies,\n      setBase,\n      favoriteRates,\n      notFavoriteRates,\n      toggleFavorite,\n      initialRates\n    } = this.props;\n\n    const homeProps = {favoriteRates, notFavoriteRates, onToggleFavorite: toggleFavorite};\n    const calculatorProps = {currencies, initialRates};\n    return (\n      <Router basename={process.env.PUBLIC_URL}>\n        <Suspense fallback={<Fallback/>}>\n          <CssBaseline/>\n          <Header base={base} currencies={currencies} onBaseChange={setBase}/>\n          <Route path=\"/\" exact render={() => <Home {...homeProps}/>}/>\n          <Route path=\"/calculator\" render={() => <Calculator {...calculatorProps}/>}/>\n        </Suspense>\n      </Router>\n    );\n  }\n}\n\nApp.propTypes = {\n  getRates: PropTypes.func,\n  setBase: PropTypes.func,\n  base: PropTypes.string.isRequired,\n  currencies: PropTypes.array,\n  favoriteRates: PropTypes.object,\n  notFavoriteRates: PropTypes.object,\n  toggleFavorite: PropTypes.func,\n  initialRates: PropTypes.object,\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport {Provider} from \"react-redux\";\nimport {createStore, applyMiddleware} from \"redux\";\nimport thunk from 'redux-thunk';\nimport appReducer from \"./store\";\nimport {composeWithDevTools} from \"redux-devtools-extension\";\nimport {saveLocalState} from \"./utils\";\n\nconst middleware = applyMiddleware(thunk);\nconst store = createStore(appReducer, composeWithDevTools(middleware));\n\nstore.subscribe(() => {\n  saveLocalState({favorites: store.getState().favorites})\n});\n\nReactDOM.render(<Provider store={store}><App/></Provider>, document.getElementById(`root`));\n"],"sourceRoot":""}