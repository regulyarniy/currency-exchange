{"version":3,"sources":["pages/Home.js","pages/Calculator.js","components/Header.js","store/types.js","constants.js","utils.js","store/reducers.js","store/actions.js","store/operations.js","store/selectors.js","store/index.js","App.js","index.js"],"names":["backgrounds","yellow","backgroundColor","green","lightgreen","blue","lightblue","orange","getRandomBackgroundKey","string","backgroundKeys","Object","keys","backgroundCount","length","toConsumableArray","reduce","result","char","charCodeAt","Home","classes","this","props","react_default","a","createElement","index_es","elevation","className","paper","list","listFavoriteItems","listNotFavoriteItems","_this","entries","favoriteRates","map","item","key","value","_this$props","onToggleFavorite","button","onClick","primary","icons_index_es","color","_this2","notFavoriteRates","_this2$props","PureComponent","withStyles","theme","objectSpread","margin","marginTop","width","maxWidth","palette","background","Calculator","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","handleChangeFirstInput","event","_this$state","state","firstType","secondType","initialRates","firstValue","parseFloat","target","secondValue","toFixed","setState","handleChangeSecondInput","_this$state2","handleChangeFirstType","_this$state3","handleChangeSecondType","_this$state4","currencies","container","justify","alignItems","spacing","xs","component","variant","align","sm","input","type","inputProps","name","id","min","step","onChange","native","currencyOptions","currencyName","Header","handleClick","anchorEl","currentTarget","handleClose","currency","onBaseChange","handleToHome","history","push","handleToCalculator","location","base","isCalculatorURL","pathname","indexOf","root","position","disabled","fullWidth","aria-owns","undefined","aria-haspopup","open","Boolean","onClose","menuItems","_this3","withRouter","padding","types","RATES_URL","concat","format","number","loadLocalState","serializedState","localStorage","getItem","JSON","parse","error","saveLocalState","stringify","setItem","Error","INITIAL_STATE","rates","favorites","assign","appReducer","arguments","action","Type","payload","defineProperty","newBase","newRates","ratio","getOwnPropertyNames","forEach","newFavorites","slice","favoriteIndex","splice","actions","operations","_ref","asyncToGenerator","regenerator_default","mark","_callee","dispatch","response","wrap","_context","prev","next","fetch","sent","json","t0","stop","_x","apply","selectors","isInFavorites","isBase","App","_Component","inherits","createClass","getRates","setBase","toggleFavorite","homeProps","calculatorProps","BrowserRouter","basename","process","react","components_Header","Route","path","exact","render","pages_Home","pages_Calculator","Component","connect","middleware","applyMiddleware","thunk","store","createStore","composeWithDevTools","subscribe","getState","ReactDOM","es","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.777e00c9.chunk.js","sourcesContent":["import React, {PureComponent} from \"react\";\nimport PropTypes from \"prop-types\";\nimport {\n  withStyles,\n  List,\n  ListItem,\n  ListItemText,\n  Avatar,\n  ListItemIcon,\n  Paper\n} from \"@material-ui/core\";\nimport {Star} from '@material-ui/icons';\n\nconst backgrounds = {\n  yellow: {backgroundColor: `#FBC02D`},\n  green: {backgroundColor: `#4CAF50`},\n  lightgreen: {backgroundColor: `#8BC34A`},\n  blue: {backgroundColor: `#0288D1`},\n  lightblue: {backgroundColor: `#03A9F4`},\n  orange: {backgroundColor: `#FF5722`}\n};\n\nconst getRandomBackgroundKey = (string) => {\n  const backgroundKeys = Object.keys(backgrounds);\n  const backgroundCount = backgroundKeys.length;\n  const stringHash = [...string].reduce((result, char) => result + char.charCodeAt(0), 0);\n  return backgroundKeys[stringHash % backgroundCount];\n};\n\nconst styles = (theme) => ({\n  list: {\n    margin: `auto`,\n    marginTop: 16,\n    width: `100%`,\n    maxWidth: 360,\n    backgroundColor: theme.palette.background.paper,\n  },\n  paper: {\n    margin: 16\n  },\n  ...backgrounds\n});\n\n\nclass Home extends PureComponent {\n\n  get listFavoriteItems() {\n    return Object.entries(this.props.favoriteRates)\n      .map((item) => {\n          const key = item[0];\n          const value = item[1];\n          const {classes, onToggleFavorite} = this.props;\n          return (\n            <ListItem key={key} button onClick={() => onToggleFavorite(key)}>\n              <Avatar className={classes[getRandomBackgroundKey(key)]}>{key}</Avatar>\n              <ListItemText primary={value}/>\n              <ListItemIcon>\n                <Star color=\"secondary\"/>\n              </ListItemIcon>\n            </ListItem>\n          )\n        }\n      )\n  }\n\n  get listNotFavoriteItems() {\n    return Object.entries(this.props.notFavoriteRates)\n      .map((item) => {\n          const key = item[0];\n          const value = item[1];\n          const {classes, onToggleFavorite} = this.props;\n          return (\n            <ListItem key={key} button onClick={() => onToggleFavorite(key)}>\n              <Avatar className={classes[getRandomBackgroundKey(key)]}>{key}</Avatar>\n              <ListItemText primary={value}/>\n              <ListItemIcon>\n                <Star color=\"inherit\"/>\n              </ListItemIcon>\n            </ListItem>\n          )\n        }\n      )\n  }\n\n  render() {\n    const {classes} = this.props;\n    return (\n      <Paper elevation={1} className={classes.paper}>\n        <List className={classes.list}>\n          {this.listFavoriteItems}\n          {this.listNotFavoriteItems}\n        </List>\n      </Paper>\n    )\n  }\n}\n\nHome.propTypes = {\n  classes: PropTypes.object.isRequired,\n  favoriteRates: PropTypes.object,\n  notFavoriteRates: PropTypes.object,\n  onToggleFavorite: PropTypes.func\n};\n\nexport default withStyles(styles)(Home);\n","import React, {PureComponent} from \"react\";\nimport {\n  Grid,\n  Input,\n  Paper,\n  Select,\n  Typography,\n  withStyles\n} from \"@material-ui/core\";\nimport PropTypes from \"prop-types\";\n\nconst styles = () => ({\n  paper: {\n    margin: 16\n  },\n  input: {\n    margin: 8\n  }\n});\n\nclass Calculator extends PureComponent {\n  constructor(props) {\n    super(props);\n    this.state = {\n      firstValue: 1,\n      firstType: ``,\n      secondValue: 1,\n      secondType: ``\n    };\n  }\n\n  componentDidMount() {\n    this.setState({firstType: this.props.currencies[0], secondType: this.props.currencies[0]})\n  }\n\n  get currencyOptions() {\n    return this.props.currencies\n      .map((currencyName) => <option key={currencyName} value={currencyName}>{currencyName}</option>)\n  }\n\n  handleChangeFirstInput = (event) => {\n    const {firstType, secondType} = this.state;\n    const {initialRates} = this.props;\n    const firstValue = parseFloat(event.target.value);\n    const secondValue = (firstValue / initialRates[firstType] * initialRates[secondType]).toFixed(4);\n    this.setState({firstValue, secondValue})\n  };\n\n  handleChangeSecondInput = (event) => {\n    const {firstType, secondType} = this.state;\n    const {initialRates} = this.props;\n    const secondValue = parseFloat(event.target.value);\n    const firstValue = (secondValue / initialRates[secondType] * initialRates[firstType]).toFixed(4);\n    this.setState({firstValue, secondValue})\n  };\n\n  handleChangeFirstType = (event) => {\n    const {firstValue, secondType} = this.state;\n    const {initialRates} = this.props;\n    const firstType = event.target.value;\n    const secondValue = (firstValue / initialRates[firstType] * initialRates[secondType]).toFixed(4);\n    this.setState({secondValue, firstType});\n  };\n\n  handleChangeSecondType = (event) => {\n    const {secondValue, firstType} = this.state;\n    const {initialRates} = this.props;\n    const secondType = event.target.value;\n    const firstValue = (secondValue / initialRates[secondType] * initialRates[firstType]).toFixed(4);\n    this.setState({firstValue, secondType});\n  };\n\n  render() {\n    const {classes} = this.props;\n    return (\n      <Paper elevation={1} className={classes.paper}>\n        <Grid container justify=\"space-around\" alignItems=\"center\" spacing={16}>\n          <Grid item xs={12} container justify=\"center\">\n            <Typography component=\"h3\" variant=\"h3\" align=\"center\">\n              Currency calculator\n            </Typography>\n          </Grid>\n          <Grid item xs={12} sm=\"auto\" container justify=\"center\">\n            <Input\n              className={classes.input}\n              type=\"number\"\n              inputProps={{\n                name: `first-amount`,\n                id: `first-amount`,\n                min: `0`,\n                step: `1`\n              }}\n              value={this.state.firstValue}\n              onChange={this.handleChangeFirstInput}\n            />\n            <Select\n              className={classes.input}\n              native\n              inputProps={{\n                name: `first-currency`,\n                id: `first-currency`,\n              }}\n              onChange={this.handleChangeFirstType}\n            >\n              {this.currencyOptions}\n            </Select>\n          </Grid>\n          <Grid item xs={12} sm=\"auto\" container justify=\"center\">\n            <Input\n              className={classes.input}\n              type=\"number\"\n              inputProps={{\n                name: `second-amount`,\n                id: `second-amount`,\n                min: `0`,\n                step: `1`\n              }}\n              value={this.state.secondValue}\n              onChange={this.handleChangeSecondInput}\n            />\n            <Select\n              className={classes.input}\n              native\n              inputProps={{\n                name: `second-currency`,\n                id: `second-currency`,\n              }}\n              onChange={this.handleChangeSecondType}\n            >\n              {this.currencyOptions}\n            </Select>\n          </Grid>\n        </Grid>\n      </Paper>\n    )\n  }\n}\n\nCalculator.propTypes = {\n  classes: PropTypes.object.isRequired,\n  currencies: PropTypes.array,\n  initialRates: PropTypes.object,\n};\n\nexport default withStyles(styles)(Calculator);\n","import React, {PureComponent} from \"react\";\nimport {AppBar, Button, Grid, Menu, MenuItem, withStyles} from \"@material-ui/core\";\nimport PropTypes from \"prop-types\";\nimport {withRouter} from \"react-router-dom\";\n\nconst styles = () => ({\n  root: {\n    padding: 8,\n  },\n});\n\nclass Header extends PureComponent {\n  constructor(props) {\n    super(props);\n    this.state = {\n      anchorEl: null,\n    }\n  }\n\n  get menuItems() {\n    return this.props.currencies\n      .map((currency) =>\n        <MenuItem\n          key={currency}\n          onClick={() => this.handleClose(currency)}\n        >\n          {currency}\n        </MenuItem>\n      )\n  }\n\n  handleClick = (event) => {\n    this.setState({anchorEl: event.currentTarget});\n  };\n\n  handleClose = (currency) => {\n    this.setState({anchorEl: null});\n    this.props.onBaseChange(currency);\n  };\n\n  handleToHome = () => {\n    this.props.history.push(`/`);\n  };\n\n  handleToCalculator = () => {\n    this.props.history.push(`calculator`);\n  };\n\n  render() {\n    const {classes, location, base} = this.props;\n    const {anchorEl} = this.state;\n    const isCalculatorURL = location.pathname.indexOf(`calculator`) !== -1;\n    return (\n      <AppBar className={classes.root} position=\"static\" color=\"default\">\n        <Grid container justify=\"flex-end\" alignItems=\"center\" spacing={16}>\n          <Grid item xs={12} sm=\"auto\">\n            <Button\n              disabled={isCalculatorURL}\n              fullWidth\n              color=\"secondary\"\n              variant=\"outlined\"\n              aria-owns={anchorEl ? `simple-menu` : undefined}\n              aria-haspopup=\"true\"\n              onClick={this.handleClick}\n            >\n              Base Currency: {base}\n            </Button>\n            <Menu\n              id=\"simple-menu\"\n              anchorEl={anchorEl}\n              open={Boolean(anchorEl)}\n              onClose={() => this.handleClose(base)}\n            >\n              {this.menuItems}\n            </Menu>\n          </Grid>\n          <Grid item xs={12} sm=\"auto\">\n            <Button\n              fullWidth\n              color={isCalculatorURL ? `default` : `primary`}\n              variant={isCalculatorURL ? `outlined` : `contained`}\n              onClick={this.handleToHome}\n            >\n              Exchange rates\n            </Button>\n          </Grid>\n          <Grid item xs={12} sm=\"auto\">\n            <Button\n              fullWidth\n              color={isCalculatorURL ? `primary` : `default`}\n              variant={isCalculatorURL ? `contained` : `outlined`}\n              onClick={this.handleToCalculator}\n            >\n              Exchange calculator\n            </Button>\n          </Grid>\n        </Grid>\n      </AppBar>\n    )\n  }\n}\n\nHeader.propTypes = {\n  classes: PropTypes.object.isRequired,\n  location: PropTypes.object.isRequired,\n  history: PropTypes.object.isRequired,\n  base: PropTypes.string.isRequired,\n  currencies: PropTypes.array,\n  onBaseChange: PropTypes.func\n};\n\nexport default withRouter(withStyles(styles)(Header));\n","const RATES_LOAD = `RATES_LOAD`;\nconst FAILURE = `FAILURE`;\nconst BASE_CURRENCY_SET = `BASE_CURRENCY_SET`;\nconst FAVORITE_TOGGLE = `FAVORITE_TOGGLE`;\n\nexport default {\n  RATES_LOAD,\n  FAILURE,\n  BASE_CURRENCY_SET,\n  FAVORITE_TOGGLE\n}\n","export const BASE_CURRENCY = `GBP`;\nexport const RATES_URL = `https://ratesapi.io/api/latest?base=${BASE_CURRENCY}`;\nexport const LOCAL_SETTINGS = `settings`;\n","import {LOCAL_SETTINGS} from \"./constants\";\n\nexport const format = (number) => parseFloat(number.toFixed(4), 10);\n\nexport const loadLocalState = () => {\n  try {\n    const serializedState = localStorage.getItem(LOCAL_SETTINGS);\n    if (serializedState === null) {\n      return undefined;\n    }\n    return JSON.parse(serializedState);\n  } catch (error) {\n    return undefined;\n  }\n};\n\nexport const saveLocalState = (state) => {\n  try {\n    const serializedState = JSON.stringify(state);\n    localStorage.setItem(LOCAL_SETTINGS, serializedState);\n  } catch (error) {\n    throw new Error(error);\n  }\n};\n\nexport default {\n  format,\n  loadLocalState,\n  saveLocalState\n};\n","import Type from \"./types\";\nimport {BASE_CURRENCY} from \"../constants\";\nimport {format, loadLocalState} from \"../utils\";\n\nconst INITIAL_STATE = {\n  base: BASE_CURRENCY,\n  initialRates: {},\n  rates: {},\n  favorites: [],\n  error: null\n};\n\nObject.assign(INITIAL_STATE, loadLocalState());\n\nconst appReducer = (state = INITIAL_STATE, action) => {\n  switch (action.type) {\n\n    case Type.RATES_LOAD:\n      return {\n        ...state,\n        base: BASE_CURRENCY,\n        rates: action.payload.rates,\n        initialRates: {[BASE_CURRENCY]: 1, ...action.payload.rates},\n      };\n\n    case Type.BASE_CURRENCY_SET: {\n      if (action.payload.base === state.base) {\n        return state\n      }\n      const newBase = action.payload.base;\n      const newRates = Object.assign({}, state.initialRates);\n      const ratio = 1 / state.initialRates[newBase];\n      delete newRates[newBase];\n      Object.getOwnPropertyNames(newRates)\n        .forEach((key) => newRates[key] = format(state.initialRates[key] * ratio));\n      newRates[state.base] = format(state.initialRates[state.base] * ratio);\n      return {\n        ...state,\n        rates: newRates,\n        base: newBase\n      };\n    }\n\n    case Type.FAVORITE_TOGGLE: {\n      const newFavorites = state.favorites.slice();\n      const favoriteIndex = newFavorites.indexOf(action.payload.currencyName);\n      if (favoriteIndex !== -1) {\n        newFavorites.splice(favoriteIndex, 1);\n      } else {\n        newFavorites.push(action.payload.currencyName);\n      }\n      return {\n        ...state,\n        favorites: newFavorites\n      };\n    }\n\n    case Type.FAILURE:\n      return {\n        ...state,\n        error: action.payload.error\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport default appReducer;\n","import Type from \"./types\";\n\nconst loadRates = (rates) => ({\n  type: Type.RATES_LOAD,\n  payload: {\n    rates\n  }\n});\n\nconst setError = (error) => ({\n  type: Type.FAILURE,\n  payload: {\n    error\n  }\n});\n\nconst setBaseCurrency = (base) => ({\n  type: Type.BASE_CURRENCY_SET,\n  payload: {\n    base\n  }\n});\n\nconst toggleFavorite = (currencyName) => ({\n  type: Type.FAVORITE_TOGGLE,\n  payload: {\n    currencyName\n  }\n});\n\nexport default {\n  loadRates,\n  setError,\n  setBaseCurrency,\n  toggleFavorite,\n};\n","import actions from \"./actions\";\nimport {RATES_URL} from \"../constants\";\n\nconst getRates = () => {\n  return async (dispatch) => {\n    try {\n      const response = await fetch(RATES_URL);\n      const rates = await response.json();\n      dispatch(actions.loadRates(rates.rates));\n    } catch (error) {\n      dispatch(actions.setError(error));\n    }\n  }\n};\n\nconst setBase = (base) => {\n  return (dispatch) => {\n    dispatch(actions.setBaseCurrency(base));\n  }\n};\n\nconst toggleFavorite = (currencyName) => {\n  return (dispatch) => {\n    dispatch(actions.toggleFavorite(currencyName));\n  }\n};\n\nconst resetRatesError = () => {\n  return (dispatch) => {\n    dispatch(actions.setError(null));\n  }\n};\n\n\nexport default {\n  getRates,\n  setBase,\n  toggleFavorite,\n  resetRatesError\n};\n","const getCurrencies = (state) => [state.base, ...Object.keys(state.rates)];\n\nconst getFavoriteRates = (state) => {\n  const result = {};\n  state.favorites\n    .forEach((currencyName) => {\n        const isBase = state.base === currencyName;\n        if (!isBase) {\n          result[currencyName] = state.rates[currencyName]\n        }\n      }\n    );\n  return result;\n};\n\nconst getNotFavoriteRates = (state) => {\n  const result = {};\n  Object.keys(state.rates)\n    .forEach((currencyName) => {\n        const isInFavorites = state.favorites.indexOf(currencyName) !== -1;\n        const isBase = state.base === currencyName;\n        if (!isInFavorites && !isBase)\n          result[currencyName] = state.rates[currencyName]\n      }\n    );\n  return result;\n};\n\nexport default {\n  getCurrencies,\n  getFavoriteRates,\n  getNotFavoriteRates\n}\n","import appReducer from './reducers';\nexport {default as operations} from './operations';\nexport {default as Type} from './types';\nexport {default as selectors} from './selectors';\nexport default appReducer;\n","import React, {Component, Fragment} from 'react';\nimport Home from \"./pages/Home\";\nimport {CssBaseline} from \"@material-ui/core\";\nimport Calculator from \"./pages/Calculator\";\nimport Header from \"./components/Header\";\nimport {BrowserRouter as Router, Route} from \"react-router-dom\";\nimport PropTypes from \"prop-types\";\nimport {connect} from \"react-redux\";\nimport {operations, selectors} from \"./store\";\n\nconst mapStateToProps = (state) => {\n  return {\n    base: state.base,\n    favoriteRates: selectors.getFavoriteRates(state),\n    notFavoriteRates: selectors.getNotFavoriteRates(state),\n    currencies: selectors.getCurrencies(state),\n    initialRates: state.initialRates\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    getRates: () => dispatch(operations.getRates()),\n    setBase: (base) => dispatch(operations.setBase(base)),\n    toggleFavorite: (currencyName) => dispatch(operations.toggleFavorite(currencyName))\n  }\n};\n\nexport class App extends Component {\n  componentDidMount() {\n    this.props.getRates();\n  }\n\n  render() {\n    const {\n      base,\n      currencies,\n      setBase,\n      favoriteRates,\n      notFavoriteRates,\n      toggleFavorite,\n      initialRates\n    } = this.props;\n\n    const homeProps = {favoriteRates, notFavoriteRates, onToggleFavorite: toggleFavorite};\n    const calculatorProps = {currencies, initialRates};\n    return (\n      <Router basename={process.env.PUBLIC_URL}>\n        <Fragment>\n          <CssBaseline/>\n          <Header base={base} currencies={currencies} onBaseChange={setBase}/>\n          <Route path=\"/\" exact render={() => <Home {...homeProps}/>}/>\n          <Route path=\"/calculator\" render={() => <Calculator {...calculatorProps}/>}/>\n        </Fragment>\n      </Router>\n    );\n  }\n}\n\nApp.propTypes = {\n  getRates: PropTypes.func,\n  setBase: PropTypes.func,\n  base: PropTypes.string.isRequired,\n  currencies: PropTypes.array,\n  favoriteRates: PropTypes.object,\n  notFavoriteRates: PropTypes.object,\n  toggleFavorite: PropTypes.func,\n  initialRates: PropTypes.object,\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport {Provider} from \"react-redux\";\nimport {createStore, applyMiddleware} from \"redux\";\nimport thunk from 'redux-thunk';\nimport appReducer from \"./store\";\nimport {composeWithDevTools} from \"redux-devtools-extension\";\nimport {saveLocalState} from \"./utils\";\n\nconst middleware = applyMiddleware(thunk);\nconst store = createStore(appReducer, composeWithDevTools(middleware));\n\nstore.subscribe(() => {\n  saveLocalState({favorites: store.getState().favorites})\n});\n\nReactDOM.render(<Provider store={store}><App/></Provider>, document.getElementById(`root`));\n"],"sourceRoot":""}